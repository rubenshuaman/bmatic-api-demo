!function(){"use strict";angular.module("app",["app.core","app.i18n","app.layout","app.home","app.login","app.ticket","app.booking"])}(),function(){"use strict";angular.module("app.booking",[])}(),function(){"use strict";angular.module("app.core",["ngAnimate","ngAria","ngMessages","oc.lazyLoad","ngMaterial","ui.router","duScroll","ui-notification"])}(),function(){"use strict";angular.module("app.home",[])}(),function(){"use strict";angular.module("app.layout",[])}(),function(){"use strict";angular.module("app.login",[])}(),function(){"use strict";angular.module("app.ticket",[])}(),function(){"use strict";function t(t){var e=this;e.myDate=new Date,e.minDate=new Date,e.onlyWeekendsPredicate=function(t){var e=t.getDay();return 1===e||2===e||3===e||4===e||5===e},e.selectTime=null,e.listTimes=[{id:1,name:"08:00 - 08:30"},{id:2,name:"09:00 - 09:30"},{id:3,name:"10:00 - 10:30"}],e.save=function(){t.url("/bookingsummary")},e.navigateTo=function(t,e){}}angular.module("app.booking").controller("BookingController",t),t.$inject=["$location"]}(),function(){"use strict";function t(t,e){function n(){}this.function=n,this.getBranchs=function(){return t({url:"http://"+e.main.host+"/v1/branches/branch?fields=id,name",method:"GET",data:{}}).then(function(t){return console.log(t),t.data},function(t){throw console.error(t),t.status})}}angular.module("app.booking").service("BookingService",t),t.$inject=["$http","appConfig"]}(),function(){"use strict";function t(){this.cancel=function(){}}angular.module("app.booking").controller("BookingDetailController",t),t.$inject=[]}(),function(){"use strict";function t(t){var e=this;e.listBranchs=[{id:"1",name:"San Miguel",short_name:"San Miguel",dateTime:"23/03/2017 10:00"},{id:"2",name:"Miraflores",short_name:"Miraflores",dateTime:"23/03/2017 10:30"}],e.navigateTo=function(e,n){t.url("/bookingdetail")},e.addBooking=function(){localStorage.setItem("userOption","0"),t.url("/service")}}angular.module("app.booking").controller("BookingsController",t),t.$inject=["$location"]}(),function(){"use strict";function t(){}angular.module("app.booking").controller("BookingSummaryController",t),t.$inject=[]}(),function(){"use strict";function t(t,e){var n=this;n.listBranchs=null;n.navigateTo=function(e,n){t.url("/booking")},function(){e.getBranchs().then(function(t){n.listBranchs=t},function(t){console.log(t),Notification.clearAll(),Notification.error("Error al obtener las agencias!")})}()}angular.module("app.booking").controller("BranchController",t),t.$inject=["$location","BookingService"]}(),function(){"use strict";function t(){var t=[{name:"Fade up",class:"animate-fade-up"},{name:"Scale up",class:"ainmate-scale-up"},{name:"Slide in from right",class:"ainmate-slide-in-right"},{name:"Flip Y",class:"animate-flip-y"}];return{pageTransitionOpts:t,main:{brand:"BMatic",name:"BMatic",year:(new Date).getFullYear(),layout:"wide",menu:"vertical",isMenuCollapsed:!1,fixedHeader:!0,fixedSidebar:!0,pageTransition:t[0],skin:"12",link:"http://www.hiper.com.pe/",host:"190.119.245.52:4191"},color:{primary:"#009688",success:"#8BC34A",info:"#00BCD4",infoAlt:"#7E57C2",warning:"#FFCA28",danger:"#F44336",text:"#3D4051",gray:"#EDF0F1"}}}function e(t){t.errorOnUnhandledRejections(!1)}function n(t){var e=t.extendPalette("cyan",{contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700 800 900"}),n=t.extendPalette("light-green",{contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700 800 900"});t.definePalette("cyanAlt",e).definePalette("lightGreenAlt",n),t.theme("default").primaryPalette("teal",{default:"500"}).accentPalette("cyanAlt",{default:"500"}).warnPalette("red",{default:"500"}).backgroundPalette("grey")}function o(t){t.setOptions({delay:5e3,startTop:20,startRight:10,verticalSpacing:20,horizontalSpacing:20,positionX:"center",positionY:"top"})}function r(t){t.preAssignBindingsEnabled(!0)}angular.module("app.core").factory("appConfig",[t]).config(["$qProvider",e]).config(["$mdThemingProvider",n]).config(["NotificationProvider",o]).config(["$compileProvider",r])}(),function(){"use strict";function t(t,e,n,o,r){t.pageTransitionOpts=r.pageTransitionOpts,t.main=r.main,t.color=r.color,t.$watch("main",function(n,o){"horizontal"===n.menu&&"vertical"===o.menu&&e.$broadcast("nav:reset"),n.fixedHeader===!1&&n.fixedSidebar===!0&&(o.fixedHeader===!1&&o.fixedSidebar===!1&&(t.main.fixedHeader=!0,t.main.fixedSidebar=!0),o.fixedHeader===!0&&o.fixedSidebar===!0&&(t.main.fixedHeader=!1,t.main.fixedSidebar=!1)),n.fixedSidebar===!0&&(t.main.fixedHeader=!0),n.fixedHeader===!1&&(t.main.fixedSidebar=!1)},!0),e.$on("$stateChangeSuccess",function(t,e,n){o.scrollTo(0,0)})}angular.module("app").controller("AppCtrl",["$scope","$rootScope","$state","$document","appConfig",t])}(),function(){"use strict";angular.module("app").config(["$ocLazyLoadProvider",function(t){t.config({debug:!1,events:!1,modules:[{name:"fontawesome",files:["bower_components/font-awesome/css/font-awesome.css"]},{name:"weather-icons",files:["bower_components/weather-icons/css/weather-icons.min.css"]},{name:"googlemap",files:["bower_components/ngmap/build/scripts/ng-map.min.js"]}]})}])}(),function(){"use strict";angular.module("app").config(["$stateProvider","$urlRouterProvider","$ocLazyLoadProvider",function(t,e,n){t.state("login",{url:"/login",templateUrl:"app/login/login.html",controller:"LoginController",controllerAs:"loginCtrl"}).state("register",{url:"/register",templateUrl:"app/login/register.html",controller:"RegisterController",controllerAs:"registerCtrl"}).state("main",{url:"/main",templateUrl:"app/home/main.html",controller:"MainController",controllerAs:"mainCtrl"}).state("service",{url:"/service",templateUrl:"app/home/service.html",controller:"ServiceController",controllerAs:"serviceCtrl"}).state("branch",{url:"/branch",templateUrl:"app/booking/branch.html",controller:"BranchController",controllerAs:"branchCtrl"}).state("sector",{url:"/sector",templateUrl:"app/ticket/sector.html",controller:"SectorController",controllerAs:"sectorCtrl"}).state("booking",{url:"/booking",templateUrl:"app/booking/booking.html",controller:"BookingController",controllerAs:"bookingCtrl"}).state("bookingsummary",{url:"/bookingsummary",templateUrl:"app/booking/bookingsummary.html",controller:"BookingSummaryController",controllerAs:"bookingSummaryCtrl"}).state("bookings",{url:"/bookings",templateUrl:"app/booking/bookings.html",controller:"BookingsController",controllerAs:"bookingsCtrl"}).state("bookingdetail",{url:"/bookingdetail",templateUrl:"app/booking/bookingdetail.html",controller:"BookingDetailController",controllerAs:"bookingDetailCtrl"}).state("ticket",{url:"/ticket",templateUrl:"app/ticket/ticket.html",controller:"TicketController",controllerAs:"ticketCtrl",resolve:{deps:["$ocLazyLoad",function(t){return t.load(["googlemap"])}]}}).state("ticketsummary",{url:"/ticketsummary",templateUrl:"app/ticket/ticketsummary.html",controller:"TicketSummaryController",controllerAs:"ticketSummaryCtrl"}).state("tickets",{url:"/tickets",templateUrl:"app/ticket/tickets.html",controller:"TicketsController",controllerAs:"ticketsCtrl"}).state("ticketdetail",{url:"/ticketdetail",templateUrl:"app/ticket/ticketdetail.html",controller:"TicketDetailController",controllerAs:"ticketDetailCtrl"}),e.when("/","/login").otherwise("/login")}])}(),function(){function t(t){t.preferredLanguage("es"),t.useSanitizeValueStrategy(null)}angular.module("app.i18n",["pascalprecht.translate"]).config(["$translateProvider",t])}(),function(){"use strict";function t(){function t(t,e){t.addClass("ui-wave");var n,o,r,i;t.off("click").on("click",function(t){var e=$(this);0===e.find(".ink").length&&e.prepend("<span class='ink'></span>"),n=e.find(".ink"),n.removeClass("wave-animate"),n.height()||n.width()||(o=Math.max(e.outerWidth(),e.outerHeight()),n.css({height:o,width:o})),r=t.pageX-e.offset().left-n.width()/2,i=t.pageY-e.offset().top-n.height()/2,n.css({top:i+"px",left:r+"px"}).addClass("wave-animate")})}return{restrict:"A",compile:t}}function e(){function t(t,e){var n,o;o=function(){var t,r,i,a,l;return l=new Date,t=l.getHours(),r=l.getMinutes(),i=l.getSeconds(),r=n(r),i=n(i),a=t+":"+r+":"+i,e.html(a),setTimeout(o,500)},n=function(t){return t<10&&(t="0"+t),t},o()}return{restrict:"A",link:t}}function n(){return{restrict:"A",compile:function(t,e){return t.on("click",function(t){t.stopPropagation()})}}}function o(){return{restrict:"A",link:function(t,e,n){return e.slimScroll({height:n.scrollHeight||"100%"})}}}angular.module("app.home").directive("uiWave",t).directive("uiTime",e).directive("uiNotCloseOnClick",n).directive("slimScroll",o)}(),function(){"use strict";function t(t){this.navigateTo=function(e){localStorage.setItem("userOption",e),t.url("/service")}}angular.module("app.home").controller("MainController",t),t.$inject=["$location"]}(),function(){"use strict";function t(t,e){return{getServices:function(){var n=e.defer();return t({url:"http://localhost:8080/servicess",method:"GET",data:{}}).then(function(t){console.log(t),n.resolve({objData:t.data})},function(t){console.log(t),n.reject(t)}),n.promise},getBranchs:function(){var n=e.defer();return t({url:"http://localhost/api/branches",method:"GET",data:{}}).then(function(t){console.log(t),n.resolve(t.data)},function(t){console.error(t),n.reject(t)}),n.promise}}}angular.module("app.home").factory("MainFactory",t),t.$inject=["$http","$q"]}(),function(){"use strict";function t(t,e){this.function=void 0,this.getServices=function(){return t({url:"http://"+e.main.host+"/v1/tickets/channel/001/services",method:"GET",data:{}}).then(function(t){return console.log(t),t.data},function(t){throw console.error(t),t.status+":"+t.data})}}angular.module("app.home").service("MainService",t),t.$inject=["$http","appConfig"]}(),function(){"use strict";function t(t,e,n){var o=this;o.listServices=null;o.navigateTo=function(e,n){"1"===localStorage.getItem("userOption")?t.url("/ticket"):t.url("/branch")},function(){e.getServices().then(function(t){o.listServices=t},function(t){console.log(t),n.clearAll(),n.error("Error al obtener los servicios!")})}()}angular.module("app.home").controller("ServiceController",t),t.$inject=["$location","MainService","Notification"]}(),function(){function t(t){}angular.module("app.layout").controller("CustomizerCtrl",["$scope",t])}(),function(){"use strict";function t(){function t(t,e,n){var o=$(e[0]),r=$("#app");o.on("click",function(t){var e="quickview-open";if(n.target)var e=e+"-"+n.target;r.toggleClass(e),t.preventDefault()})}return{restrict:"A",link:t}}function e(t){return{restrict:"A",template:'<span class="bar"></span>',link:function(t,e,n){e.addClass("preloaderbar hide"),t.$on("$stateChangeStart",function(t){e.removeClass("hide").addClass("active")}),t.$on("$stateChangeSuccess",function(t,n,o,r){t.targetScope.$watch("$viewContentLoaded",function(){e.addClass("hide").removeClass("active")})}),t.$on("preloader:active",function(t){e.removeClass("hide").addClass("active")}),t.$on("preloader:hide",function(t){e.addClass("hide").removeClass("active")})}}}angular.module("app.layout").directive("toggleQuickview",t).directive("uiPreloader",["$rootScope",e])}(),function(){function t(){$("#loader-container").fadeOut("slow")}$(window).load(function(){setTimeout(t,1e3)})}(),function(){"use strict";function t(t){function e(e,n,o){var r;r=$("#app"),n.on("click",function(e){return r.hasClass("nav-collapsed-min")?r.removeClass("nav-collapsed-min"):(r.addClass("nav-collapsed-min"),t.$broadcast("nav:reset")),e.preventDefault()})}return{restrict:"A",link:e}}function e(){function t(t,e,n){var o,r,i,a,l,c,s,u,p,g;p=250,s=$(window),a=e.find("ul").parent("li"),a.append('<i class="fa fa-angle-down icon-has-ul-h"></i>'),o=a.children("a"),o.append('<i class="fa fa-angle-down icon-has-ul"></i>'),l=e.children("li").not(a),r=l.children("a"),i=$("#app"),c=$("#nav-container"),o.on("click",function(t){var e,n;if(i.hasClass("nav-collapsed-min")||c.hasClass("nav-horizontal")&&s.width()>=768)return!1;n=$(this),e=n.parent("li"),a.not(e).removeClass("open").find("ul").slideUp(p),e.toggleClass("open").find("ul").stop().slideToggle(p),t.preventDefault()}),r.on("click",function(t){a.removeClass("open").find("ul").slideUp(p)}),t.$on("nav:reset",function(t){a.removeClass("open").find("ul").slideUp(p)}),u=s.width(),g=function(){var t;t=s.width(),t<768&&i.removeClass("nav-collapsed-min"),u<768&&t>=768&&c.hasClass("nav-horizontal")&&a.removeClass("open").find("ul").slideUp(p),u=t},s.resize(function(){var t;clearTimeout(t),t=setTimeout(g,300)})}return{restrict:"A",link:t}}function n(){function t(t,e,n,o){var r,i,a;i=e.find("a"),a=function(){return o.path()},r=function(t,e){return e="#!"+e,angular.forEach(t,function(t){var n,o,r;if(o=angular.element(t),n=o.parent("li"),r=o.attr("href"),n.hasClass("active")&&n.removeClass("active"),0===e.indexOf(r))return n.addClass("active")})},r(i,o.path()),t.$watch(a,function(t,e){if(t!==e)return r(i,o.path())})}return{restrict:"A",controller:["$scope","$element","$attrs","$location",t]}}function o(){function t(t,e,n){e.on("click",function(){return $("#app").toggleClass("on-canvas")})}return{restrict:"A",link:t}}angular.module("app.layout").directive("toggleNavCollapsedMin",["$rootScope",t]).directive("collapseNav",e).directive("highlightActive",n).directive("toggleOffCanvas",o)}(),function(){"use strict";function t(t,e){var n=this;!function(){if(localStorage.getItem("loginData")){var t=JSON.parse(localStorage.getItem("loginData"));n.username=t.username,n.password=t.password}}(),n.login=function(){localStorage.getItem("loginData"),t.url("/main")}}angular.module("app.login").controller("LoginController",t),t.$inject=["$location","Notification"]}(),function(){"use strict";function t(){function t(t,e,n){var o,r;r=function(){return n.path()},o=function(t){switch(e.removeClass("on-canvas"),e.removeClass("body-wide body-err body-lock body-auth"),t){case"/404":case"/500":return e.addClass("body-wide body-err");case"/login":case"/register":return e.addClass("body-wide body-auth");case"/page/lock-screen":return e.addClass("body-wide body-lock")}},o(n.path()),t.$watch(r,function(t,e){if(t!==e)return o(n.path())})}return{restrict:"A",controller:["$scope","$element","$location",t]}}angular.module("app.login").directive("customPage",t)}(),function(){"use strict";function t(t){var e=this;e.selectTypeDocument=null,e.listTypeDocument=[{id:1,name:"DNI"},{id:2,name:"Carné de extranjería"}];e.cancel=function(){t.url("/login")},e.register=function(){var n={};n.typeDocument=e.selectTypeDocument,n.document=e.document,n.cellphone=e.cellphone,n.username=e.username,n.password=e.password,localStorage.setItem("loginData",JSON.stringify(n)),t.url("/login")},function(){if(localStorage.getItem("loginData")){var t=JSON.parse(localStorage.getItem("loginData"));e.selectTypeDocument=t.typeDocument,e.document=t.document,e.cellphone=t.cellphone,e.username=t.username,e.password=t.password}}()}angular.module("app.login").controller("RegisterController",t),t.$inject=["$location"]}(),function(){"use strict";function t(t){var e=this;e.listSertors=null;var n=null;e.navigateTo=function(e){t.url("/ticketsummary")},function(){if(localStorage.getItem("branchData")){var t=JSON.parse(localStorage.getItem("branchData"));n=t.id,e.listSertors=t.sectors}}()}angular.module("app.ticket").controller("SectorController",t),t.$inject=["$location"]}(),function(){"use strict";function t(t,e,n,o){var r=this;t.getMap("gmap").then(function(t){r.map=t}).catch(function(t){console.error("map error: ",t)}),r.listBranchs=[],r.branch=r.listBranchs[0];r.showDetail=function(t,e){r.branch=e,r.map.showInfoWindow("foo-iw",e.id)};var i=function(){r.map.hideInfoWindow("foo-iw")};r.clicked=function(t){i(),t.sectors.length>1?(localStorage.setItem("branchData",JSON.stringify(t)),e.url("/sector")):n.generateTicket(t).then(function(t){1===t.cResultado?(localStorage.setItem("ticketData",JSON.stringify(t)),o.clearAll(),o.success("Ticket generado!"),e.url("/ticketsummary")):(o.clearAll(),o.error("Algún error al generar ticket!"))},function(t){console.log(t),o.clearAll(),o.error("Error al generar ticket!")})},function(){n.getBranchs().then(function(t){r.listBranchs=t;for(var e=0;e<r.listBranchs.length;e++)"INACTIVE"===r.listBranchs[e].status?r.listBranchs[e].icon="http://maps.google.com/mapfiles/ms/icons/blue-dot.png":"LOW"===r.listBranchs[e].congestion?r.listBranchs[e].icon="http://maps.google.com/mapfiles/ms/icons/green-dot.png":"MEDIUM"===r.listBranchs[e].congestion?r.listBranchs[e].icon="http://maps.google.com/mapfiles/ms/icons/yellow-dot.png":r.listBranchs[e].icon="http://maps.google.com/mapfiles/ms/icons/red-dot.png"},function(t){console.log(t),o.clearAll(),o.error("Error al obtener las agencias!")})}()}angular.module("app.ticket").controller("TicketController",t),t.$inject=["NgMap","$location","TicketService","Notification"]}(),function(){"use strict";function t(){function t(t){var e="";if(""!==t){e=t.substr(0,2)+":"+t.substr(2,2)+":"+t.substr(4,2)}return e}return t}function e(){function t(t){var e="";if(""!==t){var n=t.substr(0,4),o=t.substr(4,2);e=t.substr(6,2)+"/"+o+"/"+n}return e}return t}angular.module("app.ticket").filter("timeFilter",t).filter("dateFilter",e)}(),function(){"use strict";function t(t,e){function n(){}this.function=n,this.getBranchs=function(){return t({url:"http://"+e.main.host+"/v1/branches/branch",method:"GET",data:{}}).then(function(t){return console.log(t),t.data},function(t){throw console.error(t),t.status})},this.generateTicket=function(e){return t({url:"http://localhost/WSBmaticTicketera/b_GenerarTck343_ClientePC",method:"POST",data:{codigoAgencia:"F0001",codigoSector:"P000001",codigoTicketera:"Q000001",codigoTicketBase:"X002",categoriaCliente:""}}).then(function(t){return console.log(t),t.data},function(t){throw console.error(t),t.status+":"+t.data})}}angular.module("app.ticket").service("TicketService",t),t.$inject=["$http","appConfig"]}(),function(){"use strict";function t(t){this.cancel=function(e){var n=t.confirm().title("Está seguro de cancelar?").targetEvent(e).ok("Aceptar").cancel("Cancelar");t.show(n).then(function(){},function(){})}}angular.module("app.ticket").controller("TicketDetailController",t),t.$inject=["$mdDialog"]}(),function(){"use strict";function t(t){var e=this;e.listBranchs=[{id:"1",name:"San Miguel",short_name:"San Miguel",ticket:"K01 Activo"},{id:"2",name:"Miraflores",short_name:"Miraflores",ticket:"K02 No Activo"}],e.navigateTo=function(e,n){t.url("/ticketdetail")},e.addTicket=function(){localStorage.setItem("userOption","1"),t.url("/service")}}angular.module("app.ticket").controller("TicketsController",t),t.$inject=["$location"]}(),function(){"use strict";function t(){var t=this;t.ticket=null,t.loadTicket=function(){localStorage.getItem("ticketData")&&(t.ticket=JSON.parse(localStorage.getItem("ticketData")))},t.loadTicket()}angular.module("app.ticket").controller("TicketSummaryController",t),t.$inject=[]}();